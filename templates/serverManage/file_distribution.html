{% extends 'index.html' %}


{% block css %}
    <link rel="stylesheet" href="/static/plugins/bootstrap-select.css">
    <link rel="stylesheet" href="/static/plugins/fileinput.css"/>
{% endblock %}

{% block content %}
    <div style="margin-top: 33px;">

        <div class="col-sm-9" style="min-height: 500px;">

            <div><h3 style="font-weight: bold">批量文件上传</h3></div>

            <div class="row margin_top">
                <label for="target_host" class="col-xs-2 control-label margin_top">目标主机</label>

                <div class="col-xs-8">
                    <input type="text" id="target_host" name="target_host" class="form-control"
                           placeholder="多台以 ',' 分割:  结尾不要添加 ','">
                </div>
            </div>

            <div class="row margin_top">
                <label for="target_path" class="col-xs-2 control-label margin_top">目标路径</label>

                <div class="col-xs-8">
                    <input type="text" id="target_path" name="target_path" class="form-control" placeholder="目标主机的目录">
                </div>
            </div>

            <div class="row margin_top">
                <label for="source_file" class="col-xs-2 control-label margin_top">本地文件</label>

                <div class="col-xs-8">
                    <input type="text" id="source_file" name="source_file" class="form-control"
                           placeholder="要分发的文件, 若没有则上传">
                </div>
            </div>

            <div class="row margin_top">
                <label for="file" class="col-xs-2 control-label margin_top">选择文件</label>

                <div class="col-xs-6">
                    <input type="file" id="file-obj" class="file" multiple data-min-file-count="1">
                    <span style="color: red;">{{ err_msg }}</span>
                </div>
                <div class="col-xs-2">
                    <button id="UploadObj" type="submit" class="btn btn-primary pull-right">Submit</button>
                </div>
            </div>

            <div class="col-xs-10" style="margin-top: 15px;">
                <pre id="distribution_answer" class="answer_area" style="height: 260px;"></pre>
            </div>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script src="/static/plugins/bootstrap-select.js"></script>
    <script src="/static/plugins/fileinput.js"></script>
    <script src="/static/js/src/file_distribution.js"></script>
{% endblock %}